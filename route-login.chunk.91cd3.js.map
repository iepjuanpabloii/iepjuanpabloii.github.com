{"version":3,"sources":["webpack:///./routes/login/index.js","webpack:///../node_modules/@material-ui/core/esm/CardActions/CardActions.js"],"names":["useStyles","makeStyles","theme","page","display","marginTop","padding","width","height","background","container","flexWrap","margin","spacing","loginBtn","flexGrow","header","textAlign","color","card","opacity","logo","Login","classes","useState","username","setUsername","password","setPassword","isButtonDisabled","setIsButtonDisabled","helperText","setHelperText","error","setError","useContext","UserContext","setUser","useEffect","trim","handleLogin","fetch","then","checkStatus","r","json","forEach","e","dni","key","uid","name","names","grade","handleKeyPress","keyCode","which","className","noValidate","autoComplete","src","alt","fullWidth","id","type","label","placeholder","onChange","target","value","onKeyPress","variant","size","onClick","disabled","CardActions","React","props","ref","_props$disableSpacing","disableSpacing","other","_objectWithoutProperties","_extends","clsx","root","withStyles","alignItems","marginLeft"],"mappings":"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","file":"route-login.chunk.91cd3.js","sourcesContent":["import { h } from \"preact\"\nimport { useState, useEffect } from \"preact/hooks\"\nimport { useContext } from \"preact/hooks\"\nimport {\n\tCard,\n\tCardHeader,\n\tCardContent,\n\tCardActions,\n\tButton,\n\tTextField,\n} from \"@material-ui/core\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport UserContext from \"../../context/UserContext\"\nimport checkStatus from \"../../lib/request\"\n\nconst useStyles = makeStyles(theme => ({\n\tpage: {\n\t\tdisplay: \"cover\",\n\t\tmarginTop: \"-32px\",\n\t\tpadding: 0,\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\tbackground: \"url(assets/images/kid-computer.jpg) center center no-repeat\"\n\t},\n\tcontainer: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t\twidth: 350,\n\t\tmargin: `${theme.spacing(0)} auto`,\n\t},\n\tloginBtn: {\n\t\tmarginTop: theme.spacing(2),\n\t\tflexGrow: 1,\n\t},\n\theader: {\n\t\ttextAlign: \"center\",\n\t\tbackground: \"#212121\",\n\t\tcolor: \"#fff\",\n\t},\n\tcard: {\n\t\tmarginTop: theme.spacing(3),\n\t\topacity: \"0.7\"\n\t},\n\tlogo: {\n\t\tmargin: \"auto\",\n\t\tdisplay: \"block\",\n\t\tmarginTop: 10,\n\t\theight: 150\n\t}\n}))\n\nfunction Login() {\n\tconst classes = useStyles()\n\tconst [username, setUsername] = useState(\"\")\n\tconst [password, setPassword] = useState(\"\")\n\tconst [isButtonDisabled, setIsButtonDisabled] = useState(true)\n\tconst [helperText, setHelperText] = useState(\"\")\n\tconst [error, setError] = useState(false)\n\tconst { user, setUser } = useContext(UserContext)\n\n\tuseEffect(() => {\n\t\tif (username.trim() && password.trim()) {\n\t\t\tsetIsButtonDisabled(false)\n\t\t} else {\n\t\t\tsetIsButtonDisabled(true)\n\t\t}\n\t}, [username, password])\n\n\tconst handleLogin = () => {\n\t\tfetch(\"./assets/data/keys.json\")\n\t\t\t.then(checkStatus)\n\t\t\t.then(r => r.json())\n\t\t\t.then(json => {\n\t\t\t\tlet result = false\n\t\t\t\tjson.forEach(function (e) {\n\t\t\t\t\tif (e.dni == username && e.key == password) {\n\t\t\t\t\t\tsetError(false)\n\t\t\t\t\t\tsetHelperText(\"Login Successfully\")\n\t\t\t\t\t\tsetUser({\n\t\t\t\t\t\t\tuid: e.dni,\n\t\t\t\t\t\t\tname: e.names,\n\t\t\t\t\t\t\tgrade: e.grade,\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetError(true)\n\t\t\t\t\t\tsetHelperText(\"Incorrect username or password\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n\n\tconst handleKeyPress = e => {\n\t\tif (e.keyCode === 13 || e.which === 13) {\n\t\t\tisButtonDisabled || handleLogin()\n\t\t}\n\t}\n\treturn (\n\t\t<div className={classes.page}>\n\t\t\t<form className={classes.container} noValidate autoComplete=\"off\">\n\t\t\t\t<img className={classes.logo} src=\"assets/images/logoJuanPabloII.png\" alt=\"Logo I.E.P. Juan Pablo II\" />\n\t\t\t\t<Card className={classes.card}>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tlabel=\"Usuario\"\n\t\t\t\t\t\t\t\tplaceholder=\"Usuario\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => handleKeyPress(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tlabel=\"Contraseña\"\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\n\t\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\t\thelperText={helperText}\n\t\t\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => handleKeyPress(e)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t\t<CardActions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tclassName={classes.loginBtn}\n\t\t\t\t\t\t\tonClick={() => handleLogin()}\n\t\t\t\t\t\t\tdisabled={isButtonDisabled}>\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</CardActions>\n\t\t\t\t</Card>\n\t\t\t</form>\n\t\t</div>\n\t)\n}\n\nexport default Login\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar CardActions = React.forwardRef(function CardActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   */\n  disableSpacing: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActions'\n})(CardActions);"],"sourceRoot":""}